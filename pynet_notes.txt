.. This file is in reStructuredText format.

Problem statement
-----------------

Testing of realtime machine vision code is often difficult because
repeatable tests are not always easy to implement in the same
framework as the live application.

What is pynet
-------------

By synthesizing images in a completely scriptable manner, automated
testing of machine vision code becomes easier. Pynet is a image
synthesizer written in Python designed to perform this task within the
cam_iface framework. It allows rapid implementation of various camera simulations.

How to build pynet
------------------

0. Note that pynet has only been tested on Linux. It can probably be
   made to work in other OSes, but no attempts at porting have so far
   been made.

1. Build the libcam_iface_pynet.so file. Run ``scons``.

How to run pynet
----------------

0. The most difficult thing may be getting the libcam_iface_pynet.so
   to find the pynetx.py file. To debug this, it is often useful to
   run ``strace -o strace.txt ./my_cam_iface_program`` and then
   inspect the contents of strace.txt to determine where pynetx.py is
   being searched for. If you want to add search locations, edit
   cam_iface_pynet.c and modify the PyRun_SimpleString() line to
   insert a directory into the path.

1. You will need to write an implementation module. A sample is
   provided called ``test_pynet.py``. The name of this module is
   passed to pynet via an environmental variable.

2. Run a program using the libcam_iface_pynet.so backend, passing the
   name of your module. For example this example, we will use the
   simple_pynet C program (built by the scons command in the demo/bin
   directory). ``PYNET_IMPLEMENTATION_MODULE="test_pynet" demo/bin/simple_pynet``
   should run the command.

3. If all goes well, you should be running your program. Now it's only
   a matter of modifying creating your own implemenation module to
   suit your needs and specifying its name to the pynet backend.
